<div class="w-full rounded-lg overflow-hidden shadow-lg relative cursor-pointer hover:-translate-y-1 duration-300">
    <img src="{{ recipe.recipeImage }}" class="w-full aspect-square" />
    <div class="absolute bottom-0 px-4 py-3 bg-recipe-card-overlay w-full">
        <h1 class="text-white font-semibold text-sm"> {{ recipe.name }} </h1>
        <p class="text-gray-200 text-xs mb-1">Difficulty: {{ recipe.difficulty }}</p>
        <span *ngFor="let tag of recipe.tags" class="bg-primary text-white text-xs font-normal mr-2 px-2.5 py-0.5 rounded"> {{ tag }} </span>
        <button
            *ngIf="!added"
            (click)="toggleDropdown()"
            class=" inline-flex absolute top-1/2 right-14 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl
            px-2 py-2 text-center m-3">
                <ion-icon name="add-outline"></ion-icon>
        </button>
        <ng-container *ngIf="showMenu" class="inline-flex absolute top-1/2 right-14 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl px-2 py-2 text-center m-3">
            <select (change)="addToMealPlan()" [(ngModel)]="selectedMealType" class="inline-flex absolute top-1/2 right-14 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl px-2 py-2 text-center m-3">
              <option value="Breakfast">Breakfast</option>
              <option value="Lunch">Lunch</option>
              <option value="Dinner">Dinner</option>
              <option value="Snack">Snack</option>
            </select>
          </ng-container>
        <button
            *ngIf="added"
            (click)="removeFromMealPlan()"
            class=" inline-flex absolute top-1/2 right-14 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl
            px-2 py-2 text-center m-3">
                <ion-icon name="checkmark-outline"></ion-icon>
        </button>
        <button
            *ngIf="editable"
            (click)="edit()"
            class=" inline-flex absolute top-1/2 right-1 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl
            px-2 py-2 text-center m-3">
                <ion-icon name="pencil-outline"></ion-icon>
        </button>
        <button
            *ngIf="!editable"
            (click)="changeSaved()"
            class=" inline-flex absolute top-1/2 right-1 transform -translate-y-3/4 text-white bg-primary hover:bg-primary-highlight font-medium rounded-md text-2xl
            px-2 py-2 text-center m-3">
                <ion-icon *ngIf="bookmarked" name="bookmark"></ion-icon>
                <ion-icon *ngIf="!bookmarked" name="bookmark-outline"></ion-icon>
        </button>
    </div>
</div>
