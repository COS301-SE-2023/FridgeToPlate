<div class="h-full w-full bg-background-light lg:mt-16 lg:mb-0 sm:mb-20 md:mb-20">
  <navigation-bar></navigation-bar>
  <div class="h-1/5 w-full flex flex-col justify-center">
    <div class="h-1/3">
      <button
        (click)="goBack()"
        class="bg-primary text-white h-10 w-10 rounded-full flex justify-center items-center mt-4"
      >
        <svg
          stroke="currentColor"
          fill="none"
          stroke-width="2"
          viewBox="0 0 24 24"
          stroke-linecap="round"
          stroke-linejoin="round"
          height="1em"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
      </button>
    </div>
    <div class="h-2/3">
      <h2 class="text-2xl font-bold md:text-3xl md:ml-4 mt-8">Notifications</h2>
    </div>
  </div>
  <div class="card-container md:px-4">
    <fridge-to-plate-tabbed
      (clearNotificationsEvent)="clearAllNotifications($event)"
    >
      <fridge-to-plate-tab
        tabName="General"
        tabCount="{{ (generalNotifications$ | async)?.length ?? 0}}"
        [active]="true"
        class="h-full"
      >
        <ng-container *ngIf="generalNotifications$ | async; else noNotifications">
          <div
            (click)="{onNotificationClick}"
            *ngFor="let notification of (generalNotifications$ | async)"
            class="w-full h-28 flex flex-row border-b lg:pb-4 cursor-pointer lg:w-[90%]"
          >
            <div
              class="w-1/4 flex flex-row justify-center items-center px-2 py-2 md:px-0"
            >
              <img
                class="rounded-full md:w-24 md:-ml-10 lg:-ml-48"
                [src]="notification.profilePictureUrl"
              />
            </div>
            <div
              (click)="onNotificationClick(notification.recipeId)"
              class="w-3/4 flex flex-col justify-center ml-3 md:-ml-8 lg:-ml-52"
            >
              <div class="w-full h-1/2 pt-5 font-bold lg:text-xl">
                <p>{{ notification.userName }}</p>
              </div>
              <div class="w-full h-1/2 font-semibold text-gray-600 lg:text-lg">
                <p class="line-clamp-1">{{ notification.comment }}</p>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-template #noNotifications>
          <div>
            <h2>No notifications yet</h2>
          </div>
        </ng-template>
      </fridge-to-plate-tab>
      <fridge-to-plate-tab
        tabName="Recommendations"
        tabCount="{{ (recommendationNotifications$ | async)?.length ?? 0 }}"
        [active]="false"
        class="h-full"
      >
        <ng-container *ngIf="recommendationNotifications$ | async; else noNotifications">
          <div
            (click)="{onNotificationClick}"
            *ngFor="let notification of (recommendationNotifications$ | async)"
            class="w-full h-28 flex flex-row border-b lg:pb-4 cursor-pointer lg:w-[90%]"
          >
            <div
              class="w-1/4 flex flex-row justify-center items-center px-2 py-2 md:px-0"
            >
              <img
                class="rounded-full md:w-24 md:-ml-10 lg:-ml-48"
                [src]="notification.profilePictureUrl"
              />
            </div>
            <div
              (click)="onNotificationClick(notification.recipeId)"
              class="w-3/4 flex flex-col justify-center ml-3 md:-ml-8 lg:-ml-52"
            >
              <div class="w-full h-1/2 pt-5 font-bold lg:text-xl">
                {{ notification.userName }}
              </div>
              <div class="w-full h-1/2 font-semibold text-gray-600 lg:text-lg">
                <p class="line-clamp-1">{{ notification.comment }}</p>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-template #noNotifications>
          <div>
            <h2>No notifications yet</h2>
          </div>
        </ng-template>
      </fridge-to-plate-tab>
    </fridge-to-plate-tabbed>
  </div>
</div>
